apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: zabbix-prod

resources:
  - ../../base
  - namespace.yml

nameSuffix: -dev

patches:
  - path: patch-replicas.yml
  - path: patch-ingress.yml
  - path: patch-storage.yml

# Dev secrets (override base if needed)
secretGenerator:
  - name: zabbix-db-secret
    behavior: replace
    literals:
      - mysql-user=zabbix
      - mysql-password=Crust-Padlock-Override5-Hatchet-Stung-Immovably
      - mysql-root-password=Voyage-Aghast-Visible3-Unclaimed-Banana-Islamic
      - mysql-database=zabbix
    options:
      disableNameSuffixHash: true
